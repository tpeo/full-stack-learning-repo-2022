{"ast":null,"code":"import React, { forwardRef, useState, useEffect, useMemo } from 'react';\nimport { usePrevious } from '@mantine/hooks';\nimport useStyles from './MachineNumber.styles.js';\nconst MachineNumber = forwardRef((props, ref) => {\n  const [oldNumber, setOldNumber] = useState(props.value);\n  const [newNumber, setNewNumber] = useState(props.value);\n  const [scrollAnimationDirection, setScrollAnimationDirection] = useState(\"up\");\n  const [isActive, setIsActive] = useState(false);\n  const prevValueRef = usePrevious(props.value);\n  const scrollByDir = dir => {\n    setIsActive(true);\n    setScrollAnimationDirection(dir);\n    setTimeout(() => {\n      setIsActive(false);\n    }, 180);\n  };\n  const scroll = () => {\n    const {\n      newOriginalNumber,\n      oldOriginalNumber\n    } = props;\n    if (newOriginalNumber == null || oldOriginalNumber == null) {\n      return;\n    }\n    if (newOriginalNumber > oldOriginalNumber) {\n      scrollByDir(\"up\");\n    } else if (newOriginalNumber < oldOriginalNumber) {\n      scrollByDir(\"down\");\n    }\n  };\n  useEffect(() => {\n    setOldNumber(prevValueRef);\n    setNewNumber(props.value);\n    scroll();\n  }, [props.value, prevValueRef]);\n  const {\n    classes,\n    cx\n  } = useStyles(null, {\n    name: \"MachineNumber\"\n  });\n  const newNumberScrollAnimationClass = useMemo(() => isActive ? scrollAnimationDirection === \"up\" ? classes.currentNumberScrollUp : classes.currentNumberScrollDown : null, [isActive, scrollAnimationDirection]);\n  const oldNumberScrollAnimationClass = useMemo(() => isActive ? scrollAnimationDirection === \"up\" ? classes.oldNumberScrollUp : classes.oldNumberScrollDown : null, [isActive, scrollAnimationDirection]);\n  return /* @__PURE__ */React.createElement(\"span\", {\n    ref,\n    className: classes.baseNumber\n  }, oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.currentNumberTop, oldNumberScrollAnimationClass)\n  }, oldNumber) || null, /* @__PURE__ */React.createElement(\"span\", null, /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.currentNumber, newNumberScrollAnimationClass)\n  }, newNumber)), oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.oldNumberBottom, oldNumberScrollAnimationClass)\n  }, oldNumber) || null);\n});\nexport { MachineNumber };","map":{"version":3,"mappings":";;;AAGY,MAACA,aAAa,GAAGC,UAAU,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;EACtD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGC,QAAQ,CAACJ,KAAK,CAACK,KAAK,CAAC;EACvD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGH,QAAQ,CAACJ,KAAK,CAACK,KAAK,CAAC;EACvD,MAAM,CAACG,wBAAwB,EAAEC,2BAA2B,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAC9E,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMQ,YAAY,GAAGC,WAAW,CAACb,KAAK,CAACK,KAAK,CAAC;EAC7C,MAAMS,WAAW,GAAIC,GAAG,IAAK;IAC3BJ,WAAW,CAAC,IAAI,CAAC;IACjBF,2BAA2B,CAACM,GAAG,CAAC;IAChCC,UAAU,CAAC,MAAM;MACfL,WAAW,CAAC,KAAK,CAAC;IACxB,CAAK,EAAE,GAAG,CAAC;EACX,CAAG;EACD,MAAMM,MAAM,GAAG,MAAM;IACnB,MAAM;MAAEC,iBAAiB;MAAEC;IAAiB,CAAE,GAAGnB,KAAK;IACtD,IAAIkB,iBAAiB,IAAI,IAAI,IAAIC,iBAAiB,IAAI,IAAI,EAAE;MAC1D;IACN;IACI,IAAID,iBAAiB,GAAGC,iBAAiB,EAAE;MACzCL,WAAW,CAAC,IAAI,CAAC;IACvB,CAAK,MAAM,IAAII,iBAAiB,GAAGC,iBAAiB,EAAE;MAChDL,WAAW,CAAC,MAAM,CAAC;IACzB;EACA,CAAG;EACDM,SAAS,CAAC,MAAM;IACdjB,YAAY,CAACS,YAAY,CAAC;IAC1BL,YAAY,CAACP,KAAK,CAACK,KAAK,CAAC;IACzBY,MAAM,EAAE;EACZ,CAAG,EAAE,CAACjB,KAAK,CAACK,KAAK,EAAEO,YAAY,CAAC,CAAC;EAC/B,MAAM;IAAES,OAAO;IAAEC;EAAE,CAAE,GAAGC,SAAS,CAAC,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAe,CAAE,CAAC;EAClE,MAAMC,6BAA6B,GAAGC,OAAO,CAAC,MAAMhB,QAAQ,GAAGF,wBAAwB,KAAK,IAAI,GAAGa,OAAO,CAACM,qBAAqB,GAAGN,OAAO,CAACO,uBAAuB,GAAG,IAAI,EAAE,CAAClB,QAAQ,EAAEF,wBAAwB,CAAC,CAAC;EAChN,MAAMqB,6BAA6B,GAAGH,OAAO,CAAC,MAAMhB,QAAQ,GAAGF,wBAAwB,KAAK,IAAI,GAAGa,OAAO,CAACS,iBAAiB,GAAGT,OAAO,CAACU,mBAAmB,GAAG,IAAI,EAAE,CAACrB,QAAQ,EAAEF,wBAAwB,CAAC,CAAC;EACxM,sBAAuBwB,KAAK,CAACC,aAAa,CAAC,MAAM,EAAE;IACjDhC,GAAG;IACHiC,SAAS,EAAEb,OAAO,CAACc;EACvB,CAAG,EAAEjC,SAAS,mBAAoB8B,KAAK,CAACC,aAAa,CAAC,MAAM,EAAE;IAC1DC,SAAS,EAAEZ,EAAE,CAACD,OAAO,CAACnB,SAAS,EAAEmB,OAAO,CAACe,gBAAgB,EAAEP,6BAA6B;EAC5F,CAAG,EAAE3B,SAAS,CAAC,IAAI,IAAI,iBAAkB8B,KAAK,CAACC,aAAa,CAAC,MAAM,EAAE,IAAI,iBAAkBD,KAAK,CAACC,aAAa,CAAC,MAAM,EAAE;IACnHC,SAAS,EAAEZ,EAAE,CAACD,OAAO,CAACgB,aAAa,EAAEZ,6BAA6B;EACtE,CAAG,EAAEnB,SAAS,CAAC,CAAC,EAAEJ,SAAS,mBAAoB8B,KAAK,CAACC,aAAa,CAAC,MAAM,EAAE;IACvEC,SAAS,EAAEZ,EAAE,CAACD,OAAO,CAACnB,SAAS,EAAEmB,OAAO,CAACiB,eAAe,EAAET,6BAA6B;EAC3F,CAAG,EAAE3B,SAAS,CAAC,IAAI,IAAI,CAAC;AACxB,CAAC","names":["MachineNumber","forwardRef","props","ref","oldNumber","setOldNumber","useState","value","newNumber","setNewNumber","scrollAnimationDirection","setScrollAnimationDirection","isActive","setIsActive","prevValueRef","usePrevious","scrollByDir","dir","setTimeout","scroll","newOriginalNumber","oldOriginalNumber","useEffect","classes","cx","useStyles","name","newNumberScrollAnimationClass","useMemo","currentNumberScrollUp","currentNumberScrollDown","oldNumberScrollAnimationClass","oldNumberScrollUp","oldNumberScrollDown","React","createElement","className","baseNumber","currentNumberTop","currentNumber","oldNumberBottom"],"sources":["/Users/aarushichitagi/Desktop/TPEO/full-stack-learning-repo-2022/Week_6/homework/frontend/node_modules/@mantine/core/src/Indicator/Machine/MachineNumber.tsx"],"sourcesContent":["import React, { useState, forwardRef, useEffect, useMemo } from 'react';\nimport { usePrevious } from '@mantine/hooks';\nimport useStyles from './MachineNumber.styles';\n\ninterface MachineNumberProps {\n  value: number | string;\n  newOriginalNumber: number;\n  oldOriginalNumber: number;\n}\n\nexport const MachineNumber = forwardRef<HTMLDivElement, MachineNumberProps>((props, ref) => {\n  const [oldNumber, setOldNumber] = useState(props.value);\n  const [newNumber, setNewNumber] = useState(props.value);\n  const [scrollAnimationDirection, setScrollAnimationDirection] = useState<'up' | 'down'>('up');\n  const [isActive, setIsActive] = useState(false);\n  const prevValueRef = usePrevious(props.value);\n\n  const scrollByDir = (dir: 'up' | 'down') => {\n    setIsActive(true);\n    setScrollAnimationDirection(dir);\n    setTimeout(() => {\n      setIsActive(false);\n    }, 180);\n  };\n\n  const scroll = () => {\n    const { newOriginalNumber, oldOriginalNumber } = props;\n\n    if (newOriginalNumber == null || oldOriginalNumber == null) {\n      return;\n    }\n\n    if (newOriginalNumber > oldOriginalNumber) {\n      scrollByDir('up');\n    } else if (newOriginalNumber < oldOriginalNumber) {\n      scrollByDir('down');\n    }\n  };\n\n  useEffect(() => {\n    setOldNumber(prevValueRef);\n    setNewNumber(props.value);\n    scroll();\n  }, [props.value, prevValueRef]);\n\n  const { classes, cx } = useStyles(null, { name: 'MachineNumber' });\n\n  const newNumberScrollAnimationClass = useMemo(\n    () =>\n      isActive\n        ? scrollAnimationDirection === 'up'\n          ? classes.currentNumberScrollUp\n          : classes.currentNumberScrollDown\n        : null,\n    [isActive, scrollAnimationDirection]\n  );\n  const oldNumberScrollAnimationClass = useMemo(\n    () =>\n      isActive\n        ? scrollAnimationDirection === 'up'\n          ? classes.oldNumberScrollUp\n          : classes.oldNumberScrollDown\n        : null,\n    [isActive, scrollAnimationDirection]\n  );\n  return (\n    <span ref={ref} className={classes.baseNumber}>\n      {(oldNumber && (\n        <span\n          className={cx(classes.oldNumber, classes.currentNumberTop, oldNumberScrollAnimationClass)}\n        >\n          {oldNumber}\n        </span>\n      )) ||\n        null}\n      <span>\n        <span className={cx(classes.currentNumber, newNumberScrollAnimationClass)}>\n          {newNumber}\n        </span>\n      </span>\n      {(oldNumber && (\n        <span\n          className={cx(classes.oldNumber, classes.oldNumberBottom, oldNumberScrollAnimationClass)}\n        >\n          {oldNumber}\n        </span>\n      )) ||\n        null}\n    </span>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}